<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Lip Sync 2025 Voting</title>

<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- FingerprintJS -->
<script src="https://cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs/dist/fp.min.js"></script>

<style>
html, body {
  margin: 0; height: 100%;
  font-family: 'Inter', sans-serif;
  color: white; overflow: hidden;
  background-color: black;
}

#bg-video {
  position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
  object-fit: cover; z-index: 0; opacity: 0.8;
}

/* Glass card */
.glass-card {
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(24px);
  border-radius: 1.5rem;
  border: 1px solid rgba(255,255,255,0.15);
}

/* Glow */
@keyframes pink-green-glow {
  0% { box-shadow: 0 0 15px 2px rgba(255,105,180,0.7); }
  50% { box-shadow: 0 0 25px 5px rgba(96,163,77,0.9); }
  100% { box-shadow: 0 0 15px 2px rgba(255,105,180,0.7); }
}
button.glow { animation: pink-green-glow 8s ease-in-out infinite; }

/* Voting carousel */
#performers-container {
  display: flex;
  gap: 0.5rem;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 0 1rem 0.75rem;
}
.performer-card {
  flex: 0 0 55%;
  max-width: 55%;
  scroll-snap-align: center;
  transition: transform 0.3s ease;
  aspect-ratio: 3 / 4;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 0.75rem;
  padding: 0.5rem;
}
.performer-card img {
  width: 100%;
  height: auto;
  border-radius: 0.5rem;
  object-fit: cover;
}
.performer-card.selected {
  border: 2px solid #22c55e;
  box-shadow: 0 0 18px 2px rgba(34,197,94,0.6);
  transform: scale(1.03);
}
@media (min-width: 768px) {
  .performer-card { flex: 0 0 30%; max-width: 30%; }
}

/* Dots */
.dots {
  display: flex;
  justify-content: center;
  gap: 6px;
  margin-top: 0.75rem;
}
.dot {
  width: 9px; height: 9px;
  border-radius: 50%;
  background: rgba(255,255,255,0.3);
  transition: background 0.3s ease, transform 0.3s ease;
}
.dot.active {
  background: #22c55e;
  transform: scale(1.3);
}

/* Spinner + general layout */
.spinner {
  border:3px solid rgba(255,255,255,0.15);
  border-top-color:#fff;
  border-radius:50%;
  width:22px; height:22px;
  animation:spin .9s linear infinite;
  margin:0 auto;
}
@keyframes spin { to { transform: rotate(360deg) } }
.screen {
  position: fixed; inset: 0;
  display: flex; align-items: center; justify-content: center;
  flex-direction: column;
  padding: 1rem;
}
</style>
</head>

<body>
<video autoplay muted playsinline loop preload="auto" id="bg-video">
  <source src="https://i.imgur.com/mAzP2S1.mp4" type="video/mp4">
</video>

<!-- LOGIN SCREEN -->
<div id="login-screen" class="screen">
  <div class="glass-card flex flex-col justify-between items-center text-center p-8 w-11/12 max-w-md rounded-3xl min-h-[440px] shadow-2xl mt-10 mb-10">
    <img class="w-full max-w-[240px] mb-6" src="https://i.imgur.com/EnuWGLA.png" alt="Lip Sync Vote Header">
    <p id="location-error" class="text-white/70 text-base mb-8 max-w-sm">Location access is required to vote.</p>
    <button id="location-btn" class="w-auto min-w-[180px] px-8 py-3 text-base text-white rounded-xl border border-white/50 shadow-lg transition duration-200 glow">Begin Voting</button>
    <footer class="pt-6 text-white/70 text-sm flex flex-col items-center max-w-sm mt-6">
      <img src="https://ik.imagekit.io/cabgcu/Untitled%20design-3.png" alt="CAB Logo" class="h-12 mb-3 object-contain">
      <p>Follow Us At <b>@CABGCU</b> On Instagram</p>
    </footer>
  </div>
</div>

<!-- VOTING SCREEN -->
<div id="voting-screen" class="screen hidden text-center relative w-full">
  <img class="w-full max-w-[200px] mx-auto mb-3" src="https://i.imgur.com/EnuWGLA.png" alt="Header">
  <h3 class="text-xl font-semibold mb-2">Vote For Your Favorite Lip Sync Team!</h3>
  <p class="text-white/70 text-sm mb-3">Swipe left or right to view all teams.</p>

  <div id="performers-container">
    <div class="performer-card cursor-pointer" data-vote-id="option1"><img src="https://i.imgur.com/DIyK2zX.jpeg"><h4 class="text-base font-semibold mt-2">Below</h4></div>
    <div class="performer-card cursor-pointer" data-vote-id="option2"><img src="https://i.imgur.com/s7Unz9r.jpeg"><h4 class="text-base font-semibold mt-2">Deliverance</h4></div>
    <div class="performer-card cursor-pointer" data-vote-id="option3"><img src="https://i.imgur.com/x0BI8Mc.jpeg"><h4 class="text-base font-semibold mt-2">Mask Off</h4></div>
    <div class="performer-card cursor-pointer" data-vote-id="option4"><img src="https://i.imgur.com/4rG47gL.jpeg"><h4 class="text-base font-semibold mt-2">Metro Motion</h4></div>
    <div class="performer-card cursor-pointer" data-vote-id="option5"><img src="https://i.imgur.com/k75mMUz.jpeg"><h4 class="text-base font-semibold mt-2">Sin Games</h4></div>
    <div class="performer-card cursor-pointer" data-vote-id="option6"><img src="https://i.imgur.com/3dJQFeX.jpeg"><h4 class="text-base font-semibold mt-2">Anonymity</h4></div>
  </div>

  <div class="dots mt-2">
    <div class="dot active"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
  </div>

  <button id="submit-vote-btn" class="mt-5 w-11/12 max-w-sm py-3 px-6 text-base bg-black border border-white/50 text-white rounded-xl transition disabled:opacity-40" disabled>Select a Performer to Vote</button>
</div>

<!-- CONFIRMATION -->
<div id="confirmation-screen" class="screen hidden">
  <div class="glass-card w-11/12 max-w-sm rounded-3xl p-8 text-center shadow-2xl">
    <h3 class="text-3xl font-bold mb-4 text-white">âœ… Submission Received!</h3>
    <img id="confirmation-image" class="w-full max-w-[240px] mx-auto rounded-xl mb-6" alt="Team Image">
    <p id="confirmation-message" class="text-white text-base mb-6"></p>
  </div>
</div>

<script>
const performersContainer = document.getElementById("performers-container");
const dots = document.querySelectorAll(".dot");

performersContainer.addEventListener("scroll", () => {
  const cards = document.querySelectorAll(".performer-card");
  const scrollLeft = performersContainer.scrollLeft;
  const cardWidth = cards[0].offsetWidth + 8;
  const index = Math.round(scrollLeft / cardWidth);
  dots.forEach((dot, i) => dot.classList.toggle("active", i === index));
});
</script>

</body>
</html>
